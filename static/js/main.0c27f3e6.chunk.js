(this["webpackJsonpreact-oekaki"]=this["webpackJsonpreact-oekaki"]||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(3),o=n.n(c),a=(n(9),n(1)),u=function(e){var t=e.width,n=e.height,c=Object(r.useState)(!1),o=Object(a.a)(c,2),u=o[0],s=o[1],v=Object(r.useState)(void 0),f=Object(a.a)(v,2),d=f[0],l=f[1],h=Object(r.useState)({width:t,height:n}),b=Object(a.a)(h,2),m=b[0],w=b[1],g=Object(r.useCallback)((function(e){var t=O(e);t&&(s(!0),l(t))}),[]),E=Object(r.useCallback)((function(e){return{x:e.pageX,y:e.pageY}}),[]),j=Object(r.useCallback)((function(e){return e.preventDefault(),{x:e.touches[0].pageX,y:e.touches[0].pageY}}),[]),O=function(e){if(D.current){var t=D.current;return{x:e.x-t.offsetLeft,y:e.y-t.offsetTop}}},k=Object(r.useCallback)((function(e){if(u){var t=O(e);d&&t&&(x(d,t),l(t))}}),[u,d]),p=Object(r.useCallback)((function(e){var t=E(e);g(t)}),[E,g]);Object(r.useEffect)((function(){if(D.current){var e=D.current;return e.addEventListener("mousedown",p),function(){e.removeEventListener("mousedown",p)}}}),[E,p]);var L=Object(r.useCallback)((function(e){var t=E(e);k(t)}),[E,k]),C=Object(r.useCallback)((function(e){var t=j(e);g(t)}),[g,j]);Object(r.useEffect)((function(){if(D.current){var e=D.current;return e.addEventListener("touchstart",C),function(){e.removeEventListener("touchstart",C)}}}),[C,j]);var x=function(e,t){if(D.current){var n=D.current.getContext("2d");n&&(n.strokeStyle="red",n.lineJoin="round",n.lineWidth=5,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath(),n.stroke())}};Object(r.useEffect)((function(){if(D.current){var e=D.current;return e.addEventListener("mousemove",L),function(){e.removeEventListener("mousemove",L)}}}),[L,k]),Object(r.useEffect)((function(){if(D.current){var e=D.current;return e.addEventListener("touchmove",y),function(){e.removeEventListener("touchmove",y)}}}));var y=Object(r.useCallback)((function(e){var t=j(e);k(t)}),[k,j]),W=Object(r.useCallback)((function(){s(!1)}),[]),S=Object(r.useCallback)((function(){if(D.current){var e=D.current,t=e.getContext("2d"),n=null===t||void 0===t?void 0:t.getImageData(0,0,e.width,e.height);w({width:window.innerWidth,height:window.innerHeight}),n&&(null===t||void 0===t||t.putImageData(n,0,0))}}),[]);Object(r.useEffect)((function(){if(D.current){var e=D.current;return e.addEventListener("mouseup",W),e.addEventListener("mouseleave",W),e.addEventListener("touched",W,!1),function(){e.removeEventListener("mouseup",W),e.removeEventListener("mouseleave",W),e.removeEventListener("touched",W)}}}),[W]),Object(r.useEffect)((function(){if(D.current)return window.addEventListener("resize",S),function(){window.removeEventListener("resize",S)}}));var D=Object(r.useRef)(null);return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,"height:",m.height," width:",m.width),i.a.createElement("canvas",{ref:D,height:m.height,width:m.width}))};u.defaultProps={width:window.innerWidth,height:window.innerHeight};var s=u;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(s,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.0c27f3e6.chunk.js.map